# การตรวจสอบการประมวลผล

เมื่อการประมวลผลเริ่มต้นแล้ว Chloros มีวิธีต่างๆ มากมายในการติดตามความคืบหน้า ตรวจสอบปัญหา และทำความเข้าใจสิ่งที่เกิดขึ้นกับชุดข้อมูลของคุณ หน้านี้อธิบายวิธีติดตามการประมวลผลและตีความข้อมูลที่คลอรอสให้


# ภาพรวมแถบความคืบหน้า

แถบความคืบหน้าในส่วนหัวด้านบนจะแสดงสถานะการประมวลผลแบบเรียลไทม์และเปอร์เซ็นต์ความสำเร็จ


## แถบความคืบหน้าโหมดฟรี

สำหรับผู้ใช้ที่ไม่มีใบอนุญาต Chloros+:

**การแสดงความคืบหน้า 2 ขั้นตอน:**1.**การตรวจจับเป้าหมาย**- ค้นหาเป้าหมายการปรับเทียบในภาพ
2.**การประมวลผล**- การใช้การแก้ไขและการส่งออก**แถบความคืบหน้าแสดง:**

* เปอร์เซ็นต์ความสำเร็จโดยรวม (0-100%)
* ชื่อบนเวทีปัจจุบัน
* การแสดงภาพแถบแนวนอนอย่างง่าย


## คลอรอส+ แถบความคืบหน้า

สำหรับผู้ใช้ที่มีใบอนุญาต Chloros+:

**การแสดงความคืบหน้า 4 ขั้นตอน:**1.**การตรวจจับ**- การค้นหาเป้าหมายการสอบเทียบ
2.**การวิเคราะห์**- ตรวจสอบภาพและเตรียมไปป์ไลน์
3.**การปรับเทียบ**- การใช้บทความสั้นและการแก้ไขการสะท้อนแสง
4.**การส่งออก**- บันทึกไฟล์ที่ประมวลผล**คุณสมบัติแบบโต้ตอบ:*** **วางเมาส์เหนือ** แถบความคืบหน้าเพื่อดูแผง 4 ขั้นที่ขยาย
* **คลิก** แถบความคืบหน้าเพื่อตรึง/ปักหมุดแผงที่ขยาย
* **คลิกอีกครั้ง** เพื่อยกเลิกการตรึงและซ่อนอัตโนมัติเมื่อปล่อยเมาส์
* แต่ละด่านแสดงความก้าวหน้าของแต่ละคน (0-100%)

***

## ทำความเข้าใจแต่ละขั้นตอนการประมวลผล


## ขั้นตอนที่ 1: การตรวจจับ (การตรวจจับเป้าหมาย)**เกิดอะไรขึ้น:**

* คลอรอสสแกนภาพที่ทำเครื่องหมายด้วยช่องทำเครื่องหมายเป้าหมาย
* อัลกอริธึมการมองเห็นของคอมพิวเตอร์ระบุแผงการสอบเทียบ 4 แผง
* ค่าการสะท้อนที่ดึงมาจากแต่ละแผง
* การประทับเวลาเป้าหมายที่บันทึกไว้เพื่อการกำหนดเวลาการสอบเทียบที่เหมาะสม **ระยะเวลา:**

* โดยมีเป้าหมายที่ทำเครื่องหมายไว้: 10-60 วินาที
* ไม่มีเป้าหมายที่ทำเครื่องหมายไว้: 5-30+ นาที (สแกนภาพทั้งหมด)

**ตัวบ่งชี้ความคืบหน้า:**

* การตรวจจับ: 0% → 100%
* จำนวนภาพที่สแกน
* จำนวนเป้าหมายที่พบ **สิ่งที่ต้องระวัง:**

* ควรดำเนินการให้เสร็จสิ้นโดยเร็วหากกำหนดเป้าหมายถูกต้อง
* หากใช้เวลานานเกินไป เป้าหมายอาจไม่ถูกทำเครื่องหมาย
* ตรวจสอบบันทึกการแก้ไขข้อบกพร่องสำหรับข้อความ "พบเป้าหมาย"


## ขั้นตอนที่ 2: การวิเคราะห์

**เกิดอะไรขึ้น:**

* การอ่านข้อมูลเมตา EXIF ​​ของรูปภาพ (การประทับเวลา การตั้งค่าการรับแสง)
* การกำหนดกลยุทธ์การสอบเทียบตามการประทับเวลาเป้าหมาย
* การจัดคิวการประมวลผลภาพ
* การจัดเตรียมผู้ปฏิบัติงานที่ประมวลผลแบบขนาน (Chloros+ เท่านั้น)

**ระยะเวลา:**5-30 วินาที**ตัวบ่งชี้ความคืบหน้า:**

* การวิเคราะห์: 0% → 100%
* ด่านเร็ว มักจะจบเร็ว

**สิ่งที่ต้องระวัง:**

* ควรก้าวหน้าอย่างมั่นคงไม่มีหยุดชั่วคราว
* คำเตือนเกี่ยวกับข้อมูลเมตาที่หายไปจะปรากฏในบันทึกการแก้ไขข้อบกพร่อง


## ขั้นตอนที่ 3: การปรับเทียบ

**เกิดอะไรขึ้น:*** ** Debayering**: แปลงรูปแบบ RAW Bayer เป็น 3 ช่อง
* **การแก้ไขขอบมืด**: การลบการทำให้ขอบเลนส์มืดลง
* **การปรับเทียบการสะท้อนแสง**: การทำให้เป็นมาตรฐานด้วยค่าเป้าหมาย
* **การคำนวณดัชนี**: การคำนวณดัชนีหลายสเปกตรัม
* การประมวลผลภาพแต่ละภาพผ่านทางไปป์ไลน์แบบเต็ม **ระยะเวลา:**เวลาประมวลผลส่วนใหญ่ (60-80%)**ตัวบ่งชี้ความคืบหน้า:**

* การปรับเทียบ: 0% → 100%
* ภาพปัจจุบันกำลังถูกประมวลผล
* รูปภาพที่เสร็จสมบูรณ์ / รูปภาพทั้งหมด

**พฤติกรรมการประมวลผล:*** **โหมดอิสระ**: ประมวลผลภาพทีละภาพตามลำดับ
* **โหมดคลอรอส+**: ประมวลผลภาพได้สูงสุด 16 ภาพพร้อมกัน
* **การเร่งความเร็ว GPU**: เพิ่มความเร็วขั้นนี้อย่างมาก**สิ่งที่ต้องระวัง:**

* ความก้าวหน้าอย่างต่อเนื่องผ่านการนับภาพ
* ตรวจสอบบันทึกการแก้ไขข้อบกพร่องเพื่อดูข้อความการเสร็จสิ้นต่อภาพ
* คำเตือนเกี่ยวกับคุณภาพของภาพหรือปัญหาการปรับเทียบ


## ขั้นตอนที่ 4: การส่งออก

**เกิดอะไรขึ้น:**

* การเขียนภาพที่ปรับเทียบแล้วลงดิสก์ในรูปแบบที่เลือก
* ส่งออกภาพดัชนีหลายสเปกตรัมด้วยสี LUT
* การสร้างโฟลเดอร์ย่อยรุ่นกล้อง
* รักษาชื่อไฟล์ต้นฉบับพร้อมส่วนต่อท้ายที่เหมาะสม **ระยะเวลา:**10-20% ของเวลาประมวลผลทั้งหมด**ตัวบ่งชี้ความคืบหน้า:**

* การส่งออก: 0% → 100%
* ไฟล์ที่กำลังเขียน
* รูปแบบการส่งออกและปลายทาง **สิ่งที่ต้องระวัง:**

* คำเตือนพื้นที่ดิสก์
* ข้อผิดพลาดในการเขียนไฟล์
* เสร็จสิ้นการกำหนดค่าเอาต์พุตทั้งหมด

***

## แท็บบันทึกการแก้ไขข้อบกพร่อง

บันทึกการแก้ไขข้อบกพร่องให้ข้อมูลโดยละเอียดเกี่ยวกับความคืบหน้าในการประมวลผลและปัญหาใดๆ ที่พบ


## การเข้าถึงบันทึกการแก้ไขข้อบกพร่อง

1. คลิกไอคอน**Debug Log**<img src="../.gitbook/assets/icon_log.JPG" alt="" data-size="line"> ในแถบด้านข้างซ้าย
2. แผงบันทึกจะเปิดขึ้นเพื่อแสดงข้อความการประมวลผลแบบเรียลไทม์
3. เลื่อนอัตโนมัติเพื่อแสดงข้อความล่าสุด


## ทำความเข้าใจกับข้อความบันทึก


### ข้อความแจ้งข้อมูล (ขาว/เทา)

การอัปเดตการประมวลผลปกติ:

```

[INFO] เริ่มการประมวลผลแล้ว
[INFO] ตรวจพบเป้าหมายใน IMG_0015.RAW - พบ 4 แผง
[INFO] กำลังปรับเทียบ IMG_0234.RAW
[INFO] รูปภาพ NDVI ที่ส่งออก: IMG_0234_NDVI.tif
[INFO] การประมวลผลเสร็จสมบูรณ์
```


### ข้อความเตือน (สีเหลือง)

ปัญหาที่ไม่ร้ายแรงที่ไม่หยุดประมวลผล:

```

[คำเตือน] ไม่พบข้อมูล GPS ใน IMG_0145.RAW
[คำเตือน] ช่องว่างการประทับเวลาของรูปภาพเป้าหมาย > 30 นาที
[คำเตือน] คอนทราสต์ต่ำในแผงการปรับเทียบ - ผลลัพธ์อาจแตกต่างกันไป
```**การดำเนินการ:**ตรวจสอบคำเตือนหลังการประมวลผล แต่อย่าขัดจังหวะ


### ข้อความแสดงข้อผิดพลาด (สีแดง)

ปัญหาสำคัญที่อาจทำให้การประมวลผลล้มเหลว:

```

[ข้อผิดพลาด] ไม่สามารถเขียนไฟล์ได้ - ดิสก์เต็ม
[ข้อผิดพลาด] ไฟล์ภาพเสียหาย: IMG_0299.RAW
[ข้อผิดพลาด] ตรวจไม่พบเป้าหมาย - เปิดใช้งานการปรับเทียบการสะท้อนแสงหรือทำเครื่องหมายรูปภาพเป้าหมาย
```**การดำเนินการ:**หยุดการประมวลผล แก้ไขข้อผิดพลาด รีสตาร์ท


## ข้อความบันทึกทั่วไป

| ข้อความ | ความหมาย | การดำเนินการที่จำเป็น - |
| -------------------------------- | -------------------------------------- | ----------------------------------------------------- |
| "ตรวจพบเป้าหมายใน \[ชื่อไฟล์]" | พบเป้าหมายการปรับเทียบสำเร็จแล้ว | ไม่มี | ปกติ - |
| "กำลังประมวลผลรูปภาพ X จาก Y" | อัพเดทความคืบหน้าปัจจุบัน | ไม่มี | ปกติ - |
| "ไม่พบเป้าหมาย" | ไม่พบเป้าหมายการสอบเทียบ | ทำเครื่องหมายรูปภาพเป้าหมายหรือปิดใช้งานการปรับเทียบการสะท้อนแสง - |
| "พื้นที่ดิสก์ไม่เพียงพอ" | พื้นที่เก็บข้อมูลไม่เพียงพอสำหรับเอาต์พุต | เพิ่มพื้นที่ว่างในดิสก์ - |
| "ข้ามไฟล์ที่เสียหาย" | ไฟล์ภาพเสียหาย | คัดลอกไฟล์จากการ์ด SD อีกครั้ง - |
| "ใช้ข้อมูล PPK" | ใช้การแก้ไข GPS จากไฟล์ .daq | ไม่มี | ปกติ - |


## กำลังคัดลอกข้อมูลบันทึก

หากต้องการคัดลอกบันทึกเพื่อแก้ไขปัญหาหรือสนับสนุน:

1. เปิดแผงบันทึกการแก้ไขข้อบกพร่อง
2. คลิกปุ่ม**"คัดลอกบันทึก"**(หรือคลิกขวา → เลือกทั้งหมด)
3. วางลงในไฟล์ข้อความหรืออีเมล
4. ส่งไปยังฝ่ายสนับสนุน MAPIR หากจำเป็น***

## การตรวจสอบทรัพยากรระบบ


## การใช้งาน CPU**โหมดฟรี:**

* 1 CPU คอร์ที่ \~100%
* แกนอื่นๆ ไม่ได้ใช้งานหรือพร้อมใช้งาน
* ระบบยังคงตอบสนอง **คลอรอส+ โหมดขนาน:**

* หลายคอร์ที่ 80-100% (สูงสุด 16 คอร์)
* การใช้งาน CPU โดยรวมสูง
* ระบบอาจรู้สึกตอบสนองน้อยลง **เพื่อติดตาม:**

* ตัวจัดการงานของ Windows (Ctrl+Shift+Esc)
* แท็บประสิทธิภาพ → ส่วน CPU
* มองหากระบวนการ "Chloros" หรือ "chloros-backend"


## การใช้งานหน่วยความจำ (RAM)

**การใช้งานทั่วไป:**

* โครงการขนาดเล็ก (< 100 ภาพ): 2-4 GB
* โปรเจ็กต์ขนาดกลาง (100-500 ภาพ): 4-8 GB
* โปรเจ็กต์ขนาดใหญ่ (500+ ภาพ): 8-16 GB
* โหมดขนาน Chloros+ ใช้ RAM มากกว่า

**หากหน่วยความจำเหลือน้อย:**

* ประมวลผลแบทช์ที่มีขนาดเล็กลง
* ปิดแอปพลิเคชันอื่นๆ
* อัปเกรด RAM หากประมวลผลชุดข้อมูลขนาดใหญ่เป็นประจำ


## การใช้งาน GPU (Chloros+ พร้อม CUDA)

เมื่อเปิดใช้งานการเร่งความเร็ว GPU:

* NVIDIA GPU แสดงการใช้งานสูง (60-90%)
* การใช้งาน VRAM เพิ่มขึ้น (ต้องใช้ 4GB+ VRAM)
* ขั้นตอนการปรับเทียบจะเร็วขึ้นอย่างมาก **เพื่อติดตาม:**

* ไอคอนถาดระบบ NVIDIA
* ตัวจัดการงาน → ประสิทธิภาพ → GPU
* GPU-Z หรือเครื่องมือตรวจสอบที่คล้ายกัน


## ดิสก์ I/O

**สิ่งที่คาดหวัง:**

* อ่านดิสก์สูงในระหว่างขั้นตอนการวิเคราะห์
* เขียนดิสก์สูงในระหว่างขั้นตอนการส่งออก
* SSD เร็วกว่า HDD อย่างมาก

**เคล็ดลับด้านประสิทธิภาพ:**

* ใช้ SSD สำหรับโฟลเดอร์โครงการเมื่อเป็นไปได้
* หลีกเลี่ยงไดรฟ์เครือข่ายสำหรับชุดข้อมูลขนาดใหญ่
* ตรวจสอบให้แน่ใจว่าดิสก์ไม่ใกล้ความจุ (ส่งผลต่อความเร็วในการเขียน)

***

## การตรวจจับปัญหาระหว่างการประมวลผล


## สัญญาณเตือน**ความคืบหน้าแผงลอย (ไม่มีการเปลี่ยนแปลงเป็นเวลา 5+ นาที):**

* ตรวจสอบบันทึกการแก้ไขข้อบกพร่องเพื่อดูข้อผิดพลาด
* ตรวจสอบพื้นที่ว่างในดิสก์
* ตรวจสอบตัวจัดการงานเพื่อให้แน่ใจว่าคลอรอสกำลังทำงานอยู่ **ข้อความแสดงข้อผิดพลาดปรากฏขึ้นบ่อยครั้ง:**

* หยุดการประมวลผลและตรวจสอบข้อผิดพลาด
* สาเหตุทั่วไป: พื้นที่ดิสก์ ไฟล์เสียหาย ปัญหาหน่วยความจำ
* ดูส่วนการแก้ไขปัญหาด้านล่าง **ระบบไม่ตอบสนอง:**

* โหมดขนาน Chloros+ ใช้ทรัพยากรมากเกินไป
* พิจารณาลดงานที่เกิดขึ้นพร้อมกันหรืออัปเกรดฮาร์ดแวร์
* โหมดฟรีใช้ทรัพยากรน้อยกว่า


## เมื่อใดที่ควรหยุดการประมวลผล

หยุดการประมวลผลหากคุณเห็น:

* ❌ ข้อผิดพลาด "ดิสก์เต็ม" หรือ "ไม่สามารถเขียนไฟล์"
* ❌ ข้อผิดพลาดไฟล์รูปภาพเสียหายซ้ำๆ
* ❌ ระบบค้างอย่างสมบูรณ์ (ไม่ตอบสนอง)
* ❌ ทราบว่ามีการกำหนดค่าการตั้งค่าที่ไม่ถูกต้อง
* ❌ นำเข้ารูปภาพผิด

**วิธีหยุด:**1. คลิก**ปุ่มหยุด/ยกเลิก**(แทนที่ปุ่มเริ่ม)
2. การประมวลผลหยุดลง ความคืบหน้าจะหายไป
3. แก้ไขปัญหาและรีสตาร์ทตั้งแต่ต้น***

## การแก้ไขปัญหาระหว่างการประมวลผล


## การประมวลผลช้ามาก**สาเหตุที่เป็นไปได้:**

* ภาพเป้าหมายที่ไม่ได้ทำเครื่องหมาย (สแกนภาพทั้งหมด)
* HDD แทนการจัดเก็บข้อมูล SSD
* ทรัพยากรระบบไม่เพียงพอ
* กำหนดค่าดัชนีจำนวนมาก
* การเข้าถึงไดรฟ์เครือข่าย **แนวทางแก้ไข:**

1. หากเพิ่งเริ่มต้นและอยู่ในขั้นตอนการตรวจจับ: ยกเลิก ทำเครื่องหมายเป้าหมาย แล้วรีสตาร์ท
2. สำหรับอนาคต: ใช้ SSD ลดดัชนี อัพเกรดฮาร์ดแวร์
3. พิจารณา CLI สำหรับการประมวลผลชุดข้อมูลขนาดใหญ่เป็นชุด


## คำเตือน "พื้นที่ดิสก์"**แนวทางแก้ไข:**

1. เพิ่มพื้นที่ว่างในดิสก์ทันที
2. ย้ายโครงการเพื่อขับเคลื่อนด้วยพื้นที่มากขึ้น
3. ลดจำนวนดัชนีที่จะส่งออก
4. ใช้รูปแบบ JPG แทน TIFF (ไฟล์ขนาดเล็ก)


## ข้อความ "ไฟล์เสียหาย" บ่อยครั้ง**แนวทางแก้ไข:**

1. คัดลอกรูปภาพจากการ์ด SD อีกครั้งเพื่อให้แน่ใจว่ามีความสมบูรณ์
2. ทดสอบการ์ด SD เพื่อหาข้อผิดพลาด
3. ลบไฟล์ที่เสียหายออกจากโครงการ
4. ประมวลผลภาพที่เหลือต่อไป


## ระบบร้อนเกินไป / การควบคุมปริมาณ**แนวทางแก้ไข:**

1. จัดให้มีการระบายอากาศที่เพียงพอ
2. ทำความสะอาดฝุ่นจากช่องระบายอากาศของคอมพิวเตอร์
3. ลดภาระการประมวลผล (ใช้โหมดอิสระแทนคลอรอส+)
4. ดำเนินการในช่วงเวลาที่อากาศเย็นกว่าของวัน***


# กำลังประมวลผลการแจ้งเตือนเสร็จสมบูรณ์

เมื่อการประมวลผลเสร็จสิ้น:

* แถบความคืบหน้าถึง 100%
* **ข้อความ "การประมวลผลเสร็จสมบูรณ์"** ปรากฏในบันทึกการแก้ไขข้อบกพร่อง
* ปุ่มเริ่มเปิดใช้งานอีกครั้ง
* ไฟล์เอาต์พุตทั้งหมดอยู่ในโฟลเดอร์ย่อยของรุ่นกล้อง

***

## ขั้นตอนต่อไป

เมื่อการประมวลผลเสร็จสิ้น:

1.**ผลการตรวจสอบ**- ดู [การตกแต่งขั้นสุดท้าย](finishing-the-processing.md)
2.**ตรวจสอบโฟลเดอร์เอาต์พุต**- ตรวจสอบไฟล์ทั้งหมดที่ส่งออกอย่างถูกต้อง
3.**ตรวจสอบบันทึกการแก้ไขข้อบกพร่อง**- ตรวจสอบคำเตือนหรือข้อผิดพลาด
4.**ดูตัวอย่างภาพที่ประมวลผล** - ใช้ Image Viewer หรือซอฟต์แวร์ภายนอก

สำหรับข้อมูลเกี่ยวกับการตรวจสอบและการใช้ผลลัพธ์ที่ประมวลผลแล้ว โปรดดูที่ [เสร็จสิ้นการประมวลผล](finishing-the-processing.md)
