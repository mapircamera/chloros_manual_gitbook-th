# เลเยอร์รูปภาพ

เมนูแบบเลื่อนลงเลเยอร์รูปภาพในโปรแกรมดูรูปภาพ Chloros ช่วยให้คุณสามารถสลับระหว่างรูปภาพเดียวกันในเวอร์ชันต่างๆ ได้อย่างรวดเร็ว ตั้งแต่การบันทึกต้นฉบับไปจนถึงเอาต์พุตการสะท้อนแสงที่ประมวลผลและรูปภาพดัชนีที่คำนวณแล้ว

## เลเยอร์รูปภาพคืออะไร?

ในคลอรอส **เลเยอร์** หมายถึงเอาต์พุตรูปภาพต่างๆ ที่มีสำหรับอิมเมจต้นฉบับเดียว เมื่อคุณประมวลผลภาพ คลอรอสจะสร้างหลายเวอร์ชัน:

* **ภาพต้นฉบับ** (ไฟล์ JPG และ RAW จากกล้องของคุณ)
* **ปรับเทียบการสะท้อนแสง** เอาต์พุต (หากเปิดใช้งานการปรับเทียบการสะท้อนแสง)
* **ภาพเป้าหมาย** (หากภาพมีเป้าหมายการปรับเทียบ)
* **ภาพดัชนี** (NDVI, NDRE, GNDVI ฯลฯ หากกำหนดค่าดัชนีไว้)

**เมนูแบบเลื่อนลงตัวเลือกเลเยอร์** ที่มุมขวาบนของโปรแกรมดูรูปภาพ ช่วยให้คุณสลับระหว่างเวอร์ชันเหล่านี้ได้ทันทีโดยไม่ต้องออกจากโปรแกรมดู

***

## ประเภทเลเยอร์ที่มีอยู่

###JPG

* ภาพตัวอย่าง JPG ต้นฉบับจากกล้องของคุณ
* ใช้ได้กับทุกภาพเสมอ
* ยังไม่ได้ประมวลผล ตามที่กล้องถ่ายไว้
* เร็วที่สุดในการโหลดและแสดงผล

**ควรดูเมื่อใด:**

* ดูตัวอย่างการจับภาพต้นฉบับอย่างรวดเร็ว
* ตรวจสอบองค์ประกอบภาพและการจัดเฟรม
* ตรวจสอบคุณภาพการจับก่อนการประมวลผล

### RAW (ต้นฉบับ)

* ข้อมูลเซ็นเซอร์ RAW ดั้งเดิมจากกล้องของคุณ
* ผ่อนปรนโดยไม่มีการประมวลผลภายหลัง
* ความลึกบิตสูงกว่า JPG (โดยทั่วไปคือข้อมูลเซ็นเซอร์ 12 บิตหรือ 14 บิต)

**ควรดูเมื่อใด:**

* การตรวจสอบคุณภาพข้อมูลเซ็นเซอร์ดั้งเดิม
* ตรวจสอบปัญหาเซ็นเซอร์หรือสิ่งประดิษฐ์
* เปรียบเทียบผลก่อน/หลังการประมวลผล

### RAW (เป้าหมาย)

* ปรากฏเฉพาะกับภาพที่ระบุว่ามีเป้าหมายการปรับเทียบเท่านั้น
* แสดงภาพ RAW ต้นฉบับพร้อมตรวจจับเป้าหมาย
* ใช้เพื่อตรวจสอบว่าการตรวจจับเป้าหมายสำเร็จ

**ควรดูเมื่อใด:**

* ยืนยันว่าตรวจพบเป้าหมายการสอบเทียบอย่างถูกต้อง
* การตรวจสอบคุณภาพของภาพเป้าหมาย
* การแก้ไขปัญหาการสอบเทียบ

{% คำใบ้สไตล์ = "ข้อมูล" %}
**เลเยอร์เป้าหมาย**: เลเยอร์นี้จะปรากฏเฉพาะในเมนูแบบเลื่อนลงสำหรับรูปภาพที่มีเป้าหมายการปรับเทียบ ภาพที่ถ่ายปกติจะไม่มีตัวเลือกนี้
{% คำแนะนำสุดท้าย %}

### RAW (สะท้อนแสง)

* ภาพเอาต์พุตการสะท้อนแสงที่ปรับเทียบแล้ว
* แก้ไขบทความสั้นแล้ว (หากเปิดใช้งานในการประมวลผล)
* ปรับเทียบการสะท้อนแสงโดยใช้ข้อมูลเป้าหมาย (หากเปิดใช้งาน)
* TIFF แบบมัลติแบนด์พร้อมช่องกล้องทั้งหมด
* ค่าพิกเซลแสดงถึงเปอร์เซ็นต์การสะท้อนแสง (เมื่อใช้โหมดเปอร์เซ็นต์)
* พร้อมจัดการด้วย [Index/LUT Sandbox](index-lut-sandbox.md)

**ควรดูเมื่อใด:**

* การตรวจสอบผลลัพธ์ที่สอบเทียบแล้ว
* ตรวจสอบคุณภาพการสอบเทียบ
* การตรวจสอบค่าพิกเซลเพื่อความถูกต้องทางวิทยาศาสตร์
* เปรียบเทียบกับต้นฉบับเพื่อดูผลการปรับเทียบ

{% คำใบ้สไตล์ = "ความสำเร็จ" %}
**แนะนำ**: ใช้เลเยอร์ RAW (การสะท้อนแสง) เมื่อตรวจสอบค่าพิกเซลสำหรับการวัดและการวิเคราะห์ทางวิทยาศาสตร์
{% คำแนะนำสุดท้าย %}

### RAW (ดัชนี NDVI)... และที่คล้ายกัน

* ภาพดัชนีพืชพรรณที่คำนวณ (NDVI ในตัวอย่างนี้)
* ชื่อดัชนีจะเปลี่ยนไปตามดัชนีที่ถูกกำหนดค่าระหว่างการประมวลผล
* ตัวอย่าง: RAW (ดัชนี NDVI), RAW (ดัชนี NDRE), RAW (ดัชนี GNDVI) ฯลฯ
* ภาพระดับสีเทาแถบเดียวแสดงผลการคำนวณดัชนี
* หนึ่งเลเยอร์จะปรากฏขึ้นสำหรับแต่ละดัชนีที่กำหนดค่าในการตั้งค่าโครงการ

**ชื่อดัชนีที่เป็นไปได้:**

* RAW (ดัชนี NDVI)
* RAW (ดัชนี NDRE)
* RAW (ดัชนี GNDVI)
* RAW (ดัชนี OSAVI)
* RAW (ดัชนี EVI)
* RAW (ดัชนี SAVI)
* และอื่นๆ อีกมากมาย... (ดู [สูตรดัชนี Multispectral](../project-settings/multispectral-index-formulas.md))

**ควรดูเมื่อใด:**

* ตรวจสอบผลการคำนวณดัชนี
* ตรวจสอบช่วงค่าดัชนี
* การระบุพื้นที่ที่น่าสนใจ
* การตรวจสอบภาพดัชนีก่อนนำไปใช้ใน GIS หรือการวิเคราะห์

***

## การใช้ตัวเลือกเลเยอร์

### การเปิดเมนูแบบเลื่อนลง

1. เปิดภาพในโหมดเต็มหน้าจอ (คลิกภาพขนาดย่อใดก็ได้ใน Image Viewer)
2. ค้นหา **เลเยอร์แบบเลื่อนลง** ที่มุมขวาบนของโปรแกรมดู
3. เมนูแบบเลื่อนลงแสดงเลเยอร์ที่เลือกในปัจจุบัน (เช่น "JPG")
4. คลิกเมนูแบบเลื่อนลงเพื่อดูเลเยอร์ที่มีอยู่ทั้งหมด

### การสลับเลเยอร์

1. คลิกเมนูแบบเลื่อนลงของเลเยอร์เพื่อเปิดรายการ
2. เลเยอร์ที่มีอยู่ทั้งหมดสำหรับรูปภาพปัจจุบันจะปรากฏขึ้น
3. คลิกชื่อเลเยอร์ใดก็ได้เพื่อสลับไปยังเวอร์ชันนั้น
4. รูปภาพจะอัปเดตทันทีเพื่อแสดงเลเยอร์ที่เลือก

**การสลับอย่างรวดเร็ว:**

* เมนูแบบเลื่อนลงจะจดจำการเลือกครั้งล่าสุดของคุณ
* เมื่อนำทางไปยังรูปภาพถัดไป คลอรอสจะพยายามแสดงเลเยอร์ประเภทเดียวกัน
* หากไม่มีเลเยอร์นั้นอยู่ในรูปภาพถัดไป เลเยอร์นั้นจะมีค่าเริ่มต้นเป็น JPG

### ความพร้อมของเลเยอร์

บางเลเยอร์อาจไม่สามารถใช้ได้กับทุกภาพ:

**ใช้ได้เสมอ:**

* ✅ JPG (ทุกภาพมีภาพตัวอย่าง JPG)

**มีเงื่อนไข:**

* ⚠️ RAW (ต้นฉบับ) - เฉพาะในกรณีที่ภาพถูกถ่ายในโหมด RAW หรือ RAW+JPG เท่านั้น
* ⚠️ RAW (เป้าหมาย) - เฉพาะในกรณีที่รูปภาพมีเป้าหมายการปรับเทียบที่ตรวจพบเท่านั้น
* ⚠️ RAW (การสะท้อนแสง) - หลังจากประมวลผลโดยเปิดใช้งานการปรับเทียบการสะท้อนแสงเท่านั้น
* ⚠️ RAW (\[ดัชนี] ดัชนี) - หลังจากประมวลผลด้วยการกำหนดค่าดัชนีแล้วเท่านั้น

***

## ความคงอยู่ของเลเยอร์

### การนำทางระหว่างรูปภาพ

เมื่อคุณนำทางไปยังรูปภาพอื่น (โดยใช้ปุ่มลูกศรหรือคลิกรูปขนาดย่อ):

**การตั้งค่าเลเยอร์ยังคงอยู่:**

* หากดู "RAW (Reflectance)" รูปภาพถัดไปจะแสดง "RAW (Reflectance)" (ถ้ามี)
* หากดู "RAW (NDVI Index)" รูปภาพถัดไปจะแสดง "RAW (NDVI Index)" (ถ้ามี)
* หากไม่มีเลเยอร์เดียวกัน ให้ใช้ค่าเริ่มต้นเป็น JPG

**ตัวอย่างขั้นตอนการทำงาน:**

1. เปิดภาพที่ 1 สลับไปที่ RAW (ดัชนี NDVI)
2. กด → เพื่อดูภาพที่ 2
3. ภาพที่ 2 จะแสดงเลเยอร์ RAW (NDVI Index) โดยอัตโนมัติ
4. นำทางต่อไป - รูปภาพทั้งหมดแสดงเลเยอร์ NDVI
5. มีประสิทธิภาพมากในการตรวจสอบผลลัพธ์ดัชนีในหลายภาพ

***

## ขั้นตอนการทำงานทั่วไป

### ขั้นตอนการทำงาน 1: ก่อน/หลังการเปรียบเทียบ

**เป้าหมาย**: เปรียบเทียบรูปภาพต้นฉบับกับรูปภาพที่ปรับเทียบแล้ว

1. เปิดภาพที่ประมวลผลแล้วใน Image Viewer
2. เลือก **RAW (ต้นฉบับ)** จากเมนูแบบเลื่อนลง
3. สังเกตขอบมืดและค่าที่ไม่ได้ปรับเทียบ
4. เปลี่ยนเป็น **RAW (การสะท้อนแสง)** จากเมนูแบบเลื่อนลง
5. เปรียบเทียบ - ลบขอบมืดออก, ปรับเทียบค่าแล้ว

### ขั้นตอนการทำงาน 2: การตรวจสอบดัชนี

**เป้าหมาย**: ตรวจสอบผลลัพธ์ NDVI ทั่วทั้งชุดข้อมูลอย่างรวดเร็ว

1. เปิดภาพที่ประมวลผลภาพแรก
2. เลือก **RAW (ดัชนี NDVI)** จากดรอปดาวน์
3. ใช้ปุ่มลูกศร → เพื่อไปยังภาพถัดไป
4. เลเยอร์ NDVI ยังคงอยู่โดยอัตโนมัติ
5. ดูภาพทั้งหมดต่อไป ตรวจสอบรูปแบบ NDVI
6. เปลี่ยนไปใช้ **RAW (ดัชนี NDRE)** เพื่อเปรียบเทียบ

### ขั้นตอนการทำงาน 3: การตรวจสอบเป้าหมาย

**เป้าหมาย**: ตรวจสอบว่าตรวจพบภาพเป้าหมายทั้งหมดอย่างถูกต้อง

1. นำทางไปยังรูปภาพเป้าหมาย
2. เลือก **RAW (เป้าหมาย)** จากเมนูแบบเลื่อนลง
3. ตรวจสอบว่าเป้าหมายการสอบเทียบมองเห็นและตรวจพบได้ชัดเจน
4. นำทางไปยังรูปภาพเป้าหมายถัดไป
5. ยืนยันซ้ำสำหรับเป้าหมายทั้งหมด

### เวิร์กโฟลว์ 4: การตรวจสอบค่าพิกเซล

**เป้าหมาย**: ตรวจสอบค่าการสะท้อนแสงเพื่อความถูกต้องทางวิทยาศาสตร์

1. เปิดภาพที่ประมวลผลแล้ว
2. เลือกเลเยอร์ **RAW (การสะท้อนแสง)**
3. เปิดใช้งานโหมด **เปอร์เซ็นต์พิกเซล** (ปุ่มในแถบเครื่องมือด้านบนขวา)
4. เลื่อนเคอร์เซอร์ไปที่พื้นที่พืชพรรณ
5. ตรวจสอบค่าพิกเซลว่าอยู่ในช่วงที่คาดหวัง (30-70% สำหรับ NIR, 5-15% สำหรับสีแดง)
6. ตรวจสอบพื้นที่ดินและน้ำเพื่อหาค่าที่เหมาะสม

***

## ทำความเข้าใจกับค่าพิกเซลตามเลเยอร์

เลเยอร์ที่ต่างกันจะแสดงช่วงค่าพิกเซลที่แตกต่างกัน:

### เลเยอร์ JPG

* **ช่วง**: 0-255 (8 บิต)
* **ความหมาย**: ค่าที่แสดง แก้ไขแกมมาแล้ว
* **การใช้งาน**: การตรวจสอบด้วยสายตาเท่านั้น ไม่ใช่เพื่อการวัดทางวิทยาศาสตร์

### RAW (ต้นฉบับ)

* **ช่วง**: 0-65535 (16 บิต)
* **ความหมาย**: ตัวเลขดิจิตอลเซ็นเซอร์ดิบ
* **การใช้งาน**: กำลังตรวจสอบประสิทธิภาพของเซ็นเซอร์ ไม่ได้ปรับเทียบ

### RAW (สะท้อนแสง)

* **ช่วง**: 0-65,535 (TIFF 16 บิต) หรือ 0.0-1.0 (เปอร์เซ็นต์ 32 บิต)
* **ความหมาย**: เปอร์เซ็นต์การสะท้อนแสงที่ปรับเทียบแล้ว
* **การใช้งาน**: การวัดและการวิเคราะห์ทางวิทยาศาสตร์

**สำหรับ TIFF 16 บิต:** หารด้วย 65,535 เพื่อให้ได้เปอร์เซ็นต์การสะท้อน **สำหรับเปอร์เซ็นต์ 32 บิต:** ค่าแสดงถึงเปอร์เซ็นต์โดยตรง (0.5 = การสะท้อน 50%)

### RAW (ดัชนีรูปภาพ)

* **ช่วง**: แตกต่างกันไปตามดัชนี (โดยทั่วไป -1.0 ถึง +1.0 สำหรับดัชนีมาตรฐาน)
* **ความหมาย** : ผลการคำนวณดัชนี
* **ตัวอย่าง**:
  * NDVI: -1 ถึง +1 (โดยทั่วไปพืชพรรณจะอยู่ที่ 0.4 ถึง 0.9)
  * NDRE: -1 ถึง +1 (การตรวจจับความเครียด)
  * EVI: 0 ต่อ 1 (พืชพรรณที่ได้รับการปรับปรุง)

***

## เคล็ดลับและแนวทางปฏิบัติที่ดีที่สุด

### การสลับเลเยอร์ที่มีประสิทธิภาพ

* **การรับรู้แป้นพิมพ์ลัด**: แม้ว่าจะไม่มีแป้นพิมพ์ลัดสำหรับเลเยอร์ แต่ลูกศรนำทาง (←/→) จะทำงานในทุกเลเยอร์
* **ขั้นตอนการทำงานที่สอดคล้องกัน**: เลือกหนึ่งเลเยอร์ (เช่น NDVI) และตรวจสอบชุดข้อมูลทั้งหมดก่อนที่จะเปลี่ยนไปใช้อีกเลเยอร์หนึ่ง
* **การเปรียบเทียบอย่างรวดเร็ว**: สลับระหว่างต้นฉบับและแบบสะท้อนแสงเพื่อตรวจสอบคุณภาพการประมวลผล

### ข้อควรพิจารณาด้านประสิทธิภาพ

* **JPG โหลดเร็วที่สุด**: ใช้สำหรับการนำทางอย่างรวดเร็วผ่านรูปภาพจำนวนมาก
* **เลเยอร์ RAW โหลดช้าลง**: ความละเอียดและความลึกของบิตสูงขึ้น
* **ชั้นดัชนี**: ความเร็วใกล้เคียงกับชั้นการสะท้อนแสง
* **การโหลดครั้งแรกช้าที่สุด**: การดูครั้งต่อไปของเลเยอร์เดียวกันจะถูกแคชและเร็วขึ้น

### การตรวจสอบคุณภาพ

* **ตรวจสอบ RAW (ต้นฉบับ) เสมอ**: ตรวจสอบคุณภาพข้อมูลต้นฉบับก่อนที่จะเชื่อถือเอาต์พุตที่ประมวลผล
* **เปรียบเทียบเลเยอร์**: ใช้การสลับเลเยอร์เพื่อตรวจสอบความถูกต้องของการประมวลผล
* **ตรวจสอบช่วงดัชนี**: ใช้โหมดเปอร์เซ็นต์พิกเซลพร้อมเลเยอร์ดัชนีเพื่อตรวจสอบว่าค่าต่างๆ นั้นสมเหตุสมผล

***

## การแก้ไขปัญหา

### เลเยอร์ไม่พร้อมใช้งาน

**ปัญหา**: เลเยอร์ที่คาดหวังไม่ปรากฏในเมนูแบบเลื่อนลง

**สาเหตุที่เป็นไปได้:**

* รูปภาพไม่ได้ถูกประมวลผล (ใช้ได้เฉพาะ JPG และ RAW (ต้นฉบับ))
* การสอบเทียบการสะท้อนแสงถูกปิดใช้งานระหว่างการประมวลผล
* ไม่ได้กำหนดค่าดัชนีเฉพาะในการตั้งค่าโครงการ
* รูปภาพเป็นรูปภาพเป้าหมายเท่านั้น (ไม่มีการสร้างดัชนีสำหรับเป้าหมาย)

**แนวทางแก้ไข:**

1. ตรวจสอบว่ารูปภาพได้รับการประมวลผลแล้ว (ตรวจสอบโฟลเดอร์เอาต์พุตสำหรับไฟล์ที่ประมวลผล)
2. ตรวจสอบการตั้งค่าโครงการเพื่อยืนยันว่าดัชนีได้รับการกำหนดค่าแล้ว
3. ประมวลผลใหม่โดยเปิดใช้งานดัชนีที่ต้องการ

### แสดงเลเยอร์ผิด

**ปัญหา**: รูปภาพเปิดในเลเยอร์ที่ไม่คาดคิด

**สาเหตุ**: การตั้งค่าเลเยอร์จากรูปภาพก่อนหน้ายกไปข้างหน้า แต่ไม่มีเลเยอร์นั้นอยู่ในรูปภาพปัจจุบัน

**วิธีแก้ปัญหา**: คลอรอสจะถอยกลับไปเป็น JPG โดยอัตโนมัติเมื่อเลเยอร์ที่ต้องการไม่พร้อมใช้งาน - นี่เป็นพฤติกรรมปกติ

### ไม่เห็นเป้าหมายการสอบเทียบ

**ปัญหา**: เลเยอร์ RAW (เป้าหมาย) ไม่แสดงการตรวจจับเป้าหมาย

**สาเหตุที่เป็นไปได้:**

* ตรวจไม่พบเป้าหมายระหว่างการประมวลผล
* รูปภาพไม่มีเป้าหมายจริงๆ
* การตั้งค่าการตรวจจับเป้าหมายเข้มงวดเกินไป

**แนวทางแก้ไข:**

1. ตรวจสอบบันทึกการแก้ไขข้อบกพร่องสำหรับข้อความ "พบเป้าหมาย"
2. ตรวจสอบว่ารูปภาพมีเป้าหมายการปรับเทียบที่มองเห็นได้จริง
3. ปรับการตั้งค่าการตรวจจับเป้าหมายในการตั้งค่าโครงการ
4. ดู [การเลือกรูปภาพเป้าหมาย](../processing-images-gui/choosing-target-images.md)

***

## คุณสมบัติที่เกี่ยวข้อง

### เครื่องมือดูรูปภาพ

เมื่อดูเลเยอร์ใด ๆ คุณสามารถใช้:

* **การควบคุมการซูม**: ขยายเพื่อตรวจสอบรายละเอียด
* **แพน**: คลิกและลากเพื่อเลื่อนไปรอบๆ ภาพที่ซูม
* **การตรวจสอบค่าพิกเซล**: ดูค่าที่ตำแหน่งเคอร์เซอร์
* **ลูกศรนำทาง**: ย้ายไปมาระหว่างรูปภาพโดยคงเลเยอร์ไว้
* **โหมดเปอร์เซ็นต์พิกเซล**: สลับระหว่างการแสดง DN และเปอร์เซ็นต์

ดู [การเปิดภาพเต็มหน้าจอ](opening-an-image-full-screen.md) สำหรับเอกสาร Image Viewer ฉบับสมบูรณ์

### ดัชนี/แซนด์บ็อกซ์ LUT

สำหรับการทดสอบและการแสดงภาพดัชนีเชิงโต้ตอบ:

* **การคำนวณดัชนีแบบเรียลไทม์**: ทดสอบสูตรดัชนีต่างๆ
* **การจับคู่สี LUT**: ใช้การไล่ระดับสีกับดัชนีระดับสีเทา
* **ส่งออกการแสดงภาพ**: บันทึกภาพดัชนีสี

ดูรายละเอียดใน [Index/LUT Sandbox](index-lut-sandbox.md)

***

## ขั้นตอนต่อไป

ตอนนี้คุณเข้าใจเลเยอร์รูปภาพแล้ว:

* [**การเปิดภาพแบบเต็มหน้าจอ**](opening-an-image-full-screen.md) - คู่มือโปรแกรมดูรูปภาพฉบับสมบูรณ์
* [**Index/LUT Sandbox**](index-lut-sandbox.md) - การแสดงภาพดัชนีแบบโต้ตอบ
* [**สูตรดัชนีหลายสเปกตรัม**](../project-settings/multispectral-index-formulas.md) - การอ้างอิงดัชนีที่มีอยู่
* [**เสร็จสิ้นการประมวลผล**](../processing-images-gui/finishing-the-processing.md) - ทำความเข้าใจกับเอาต์พุตที่ประมวลผล
